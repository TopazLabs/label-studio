# Generated by Django 4.2.15 on 2024-10-03 20:45

from django.db import migrations


def reset_linked_list(apps, schema_editor):
    ProjectGroup = apps.get_model('projects', 'ProjectGroup')
    groups = list(ProjectGroup.objects.all())

    # Sort groups by id or any other field if needed
    groups.sort(key=lambda group: group.id)

    for i, group in enumerate(groups):
        prev_group = groups[i - 1] if i > 0 else None
        next_group = groups[i + 1] if i < len(groups) - 1 else None

        group.prev_group = prev_group
        group.next_group = next_group
        group.save()

class Migration(migrations.Migration):

    dependencies = [
        ('projects', '0042_reset_linked_list'),
    ]

    operations = [
        migrations.RunPython(reset_linked_list),
    ]
